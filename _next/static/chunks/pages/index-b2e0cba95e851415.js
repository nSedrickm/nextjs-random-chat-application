(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4894)}])},4894:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return S}});var i=t(5893),a=t(9008),s=t.n(a),n=t(7294),l=t(6720),o=t(9520),d=t(7357),c=t(5861),h=t(7349),x=t(9661),m=t(3321),g=t(1737),u=t(4267),p=t(8078),f=t(629),j=t(7155),b=t(3946),y=t(5365),w=t(2618),Z=t(1248);let v=Z.I0,_=Z.v9;var k=t(7360),C=t(5332);let R=()=>{let e=_(k.Rt),r=v(),t=(0,n.useRef)(null),[a,{isLoading:Z,isError:R}]=(0,w.a)(),[S,E]=(0,n.useState)(!1);async function I(){try{await a().unwrap()}catch(e){}}async function B(e){e.preventDefault();let t=e.target,i=new FormData(t),{message:a}=Object.fromEntries(i);t.reset();let s={message:a,author:"user",timestamp:(0,C.d)()};if(a.includes("/delay")){E(!0);let n=a.split(" "),l=parseInt(n[1]),o=n[2];l&&o&&setTimeout(async()=>{r((0,k.l_)(s)),E(!1),await I()},l);return}r((0,k.l_)(s)),await I()}return(0,n.useEffect)(()=>{var e;null==t||null===(e=t.current)||void 0===e||e.scrollBy({top:t.current.scrollHeight,behavior:"smooth"})},[e,S]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("title",{children:"Random Chat"}),(0,i.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)("main",{children:[(0,i.jsx)(l.ZP,{}),(0,i.jsxs)(o.Z,{maxWidth:"xl",sx:{p:{xs:1,md:4}},children:[(0,i.jsxs)(d.Z,{component:"header",my:5,children:[(0,i.jsx)(c.Z,{variant:"h2",align:"center",fontWeight:"bold",color:"primary",children:"Random Chat"}),(0,i.jsx)(c.Z,{variant:"h6",paragraph:!0,align:"center",gutterBottom:!0,children:"Chat with a random bot online"})]}),(0,i.jsxs)(d.Z,{sx:{border:1,borderRadius:3,borderColor:"grey.100",boxShadow:{md:1},padding:{xs:1,md:4},maxWidth:"md",margin:"0 auto",gap:2},children:[(0,i.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsxs)(d.Z,{sx:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"md",margin:"0 auto",gap:2},children:[(0,i.jsx)(h.Z,{overlap:"circular",badgeContent:" ",color:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,i.jsx)(x.Z,{alt:"Bot",src:"https://i.pravatar.cc/64?img=2",sx:{width:64,height:64}})}),(0,i.jsxs)(d.Z,{mt:1,children:[(0,i.jsx)(c.Z,{variant:"h5",fontWeight:"bold",children:"Akiva‘s Bot"}),(0,i.jsx)(c.Z,{variant:"subtitle1",paragraph:!0,children:"Online"})]})]}),(0,i.jsx)(m.Z,{onClick:()=>r((0,k.iw)()),children:"Clear chat"})]}),(0,i.jsx)(c.Z,{variant:"body1",paragraph:!0,color:"grey.600",children:"This is the begining of your direct message history with Akiva‘s Bot"}),(0,i.jsxs)(g.Z,{severity:"info",children:["You can also use the ",(0,i.jsx)("strong",{children:"/delay"})," to schedule a message",(0,i.jsx)("br",{}),"Format: ",(0,i.jsx)("strong",{children:" /delay [time in ms] [message]"}),(0,i.jsx)("br",{}),"Example: ",(0,i.jsx)("strong",{children:"/delay 1000 hello"})]}),(0,i.jsxs)(d.Z,{ref:t,sx:{display:"flex",flexDirection:"column",marginY:4,gap:2,border:1,height:500,borderRadius:3,overflow:"auto",borderColor:"grey.300"},children:[e.map((e,r)=>{let{author:t,message:a,timestamp:s}=e;return(0,i.jsx)(d.Z,{sx:{alignSelf:"bot"===t?"flex-start":"flex-end",width:{md:"60%"},minWidth:"60%",boxShadow:0},children:(0,i.jsxs)(u.Z,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"bot"===t?"row":"row-reverse",gap:2},children:[(0,i.jsx)(x.Z,{alt:"bot"===t?"Bot":"User",src:"bot"===t?"https://i.pravatar.cc/48?img=2":"",sx:{width:48,height:48}}),(0,i.jsxs)(d.Z,{sx:{flex:1},children:[(0,i.jsx)(c.Z,{variant:"body1",sx:{backgroundColor:"bot"===t?"":"primary.main",color:"bot"===t?"secondary":"white",boxShadow:1,borderRadius:2,padding:2},children:a}),(0,i.jsx)(c.Z,{variant:"body2",mt:1,align:"bot"===t?"left":"right",children:s})]})]})},r)}),Z||S&&(0,i.jsxs)(d.Z,{sx:{display:"flex",alignSelf:S?"flex-end":"flex-start",flexDirection:S?"row":"row-reverse",gap:2,padding:2,width:"60%",alignItems:"center"},children:[(0,i.jsx)(p.Z,{variant:"circular",children:(0,i.jsx)(x.Z,{sx:{height:48,width:48}})}),(0,i.jsxs)(d.Z,{sx:{flex:1},children:[(0,i.jsx)(p.Z,{animation:"wave",height:75}),(0,i.jsx)(p.Z,{animation:"wave",height:12,width:72,sx:{ml:S?"auto":""}})]})]}),R&&(0,i.jsx)(g.Z,{variant:"filled",severity:"error",sx:{margin:2,width:{md:"50%"},alignItems:"center",borderRadius:2},children:"Sorry Bot failed to reply, please check your network and try sending another message"})]}),(0,i.jsxs)(f.Z,{component:"form",sx:{px:2,py:1,borderRadius:8,display:"flex",alignItems:"center",width:"100%"},onSubmit:e=>B(e),children:[(0,i.jsx)(j.ZP,{sx:{ml:1,flex:1},placeholder:"send message",inputProps:{"aria-label":"send message",name:"message",required:!0}}),(0,i.jsx)(b.Z,{type:"submit","aria-label":"search",color:"primary",children:(0,i.jsx)(y.Z,{fontSize:"large"})})]})]})]})]})]})};var S=R}},function(e){e.O(0,[835,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);